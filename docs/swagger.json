{
    "schemes": [
        "http",
        "https."
    ],
    "swagger": "2.0",
    "info": {
        "description": "照片边框工具后端接口.",
        "title": "照片边框工具后端接口",
        "termsOfService": "yijianlingcheng",
        "contact": {
            "name": "yijianlingcheng",
            "url": "https://github.com/yijianlingcheng",
            "email": "yijianlingchen@outlook.com"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "1.0"
    },
    "host": "localhost:11079",
    "basePath": "/",
    "paths": {
        "/frame/createExportTask": {
            "post": {
                "description": "对指定照片创建导出任务,异步执行导出",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Frame"
                ],
                "summary": "创建导出任务",
                "parameters": [
                    {
                        "type": "string",
                        "description": "导出文件存放的路径",
                        "name": "save",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "照片路径;多个文件,分割",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "布局信息,JSON字符串:必须包含frame_name字段",
                        "name": "layout",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "布局信息,边框预览时调整保存的参数",
                        "name": "preview_layout",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "成功信息\".",
                        "schema": {
                            "$ref": "#/definitions/controller.NoError"
                        }
                    },
                    "400": {
                        "description": "错误信息\".",
                        "schema": {
                            "$ref": "#/definitions/controller.ErrorInfo"
                        }
                    }
                }
            }
        },
        "/frame/getExifAndBorderInfo": {
            "post": {
                "description": "获取照片的exif与边框信息",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Frame"
                ],
                "summary": "获取照片的exif与边框信息",
                "parameters": [
                    {
                        "type": "string",
                        "description": "照片路径",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "图片尺寸类型,border:边框尺寸,photo:原始图片尺寸",
                        "name": "type",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "布局信息,JSON字符串:必须包含frame_name字段",
                        "name": "layout",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "成功信息",
                        "schema": {
                            "$ref": "#/definitions/controller.ExifAndBorderInfo"
                        }
                    },
                    "400": {
                        "description": "错误信息\".",
                        "schema": {
                            "$ref": "#/definitions/controller.ErrorInfo"
                        }
                    }
                }
            }
        },
        "/frame/getExportProgress": {
            "get": {
                "description": "获取导出进度",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Frame"
                ],
                "summary": "获取导出进度,输出SSE消息",
                "responses": {
                    "200": {
                        "description": "SSE消息\".",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/frame/getFrameTemplateInfo": {
            "post": {
                "description": "获取边框模板信息,此接口用于展示边框模板列表",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Frame"
                ],
                "summary": "获取边框模板信息",
                "responses": {
                    "200": {
                        "description": "成功信息\".",
                        "schema": {
                            "$ref": "#/definitions/controller.TemplatesInfo"
                        }
                    },
                    "400": {
                        "description": "错误信息\".",
                        "schema": {
                            "$ref": "#/definitions/controller.ErrorInfo"
                        }
                    }
                }
            }
        },
        "/frame/importPhotoFiles": {
            "post": {
                "description": "将指定图片导入到内存中,提供给生成照片边框的逻辑使用",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Frame"
                ],
                "summary": "将指定图片导入到内存中",
                "parameters": [
                    {
                        "type": "string",
                        "description": "照片路径支持多个路径;多个路径,隔开",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "成功信息\".",
                        "schema": {
                            "$ref": "#/definitions/controller.ImportInfo"
                        }
                    },
                    "400": {
                        "description": "错误信息\".",
                        "schema": {
                            "$ref": "#/definitions/controller.ErrorInfo"
                        }
                    }
                }
            }
        },
        "/frame/reloadFrameTemplate": {
            "post": {
                "description": "重新加载边框模板文件,此接口用于运行过程中调整或新增了边框布局文件",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Frame"
                ],
                "summary": "重新加载边框模板文件",
                "responses": {
                    "200": {
                        "description": "成功信息\".",
                        "schema": {
                            "$ref": "#/definitions/controller.NoError"
                        }
                    },
                    "400": {
                        "description": "错误信息\".",
                        "schema": {
                            "$ref": "#/definitions/controller.ErrorInfo"
                        }
                    }
                }
            }
        },
        "/frame/reloadLogoImages": {
            "post": {
                "description": "重新加载logo文件夹下的图片,此接口用于运行过程中在logo文件夹下面添加了文件",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Frame"
                ],
                "summary": "重新加载logo文件下的图片",
                "responses": {
                    "200": {
                        "description": "成功信息\".",
                        "schema": {
                            "$ref": "#/definitions/controller.NoError"
                        }
                    },
                    "400": {
                        "description": "错误信息\".",
                        "schema": {
                            "$ref": "#/definitions/controller.ErrorInfo"
                        }
                    }
                }
            }
        },
        "/frame/showPhotoFrame": {
            "post": {
                "description": "对指定照片生成边框水印图片,并且直接输出图片内容,模糊模板的时候输出png图片,普通边框输出jpg图片",
                "produces": [
                    "image/jpeg",
                    "image/png"
                ],
                "tags": [
                    "Frame"
                ],
                "summary": "对指定照片生成边框图",
                "parameters": [
                    {
                        "type": "string",
                        "description": "照片路径",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "保存路径,如果为空,则不保存",
                        "name": "save",
                        "in": "formData"
                    },
                    {
                        "type": "string",
                        "description": "返回的图片类型,border:只返回边框图,photo:返回照片+边框合成图",
                        "name": "type",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "布局信息,JSON字符串:必须包含frame_name字段",
                        "name": "layout",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "400": {
                        "description": "错误信息\".",
                        "schema": {
                            "$ref": "#/definitions/controller.ErrorInfo"
                        }
                    }
                }
            }
        },
        "/message/info": {
            "get": {
                "description": "获取启动页输出",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "message"
                ],
                "summary": "获取启动页输出",
                "responses": {
                    "200": {
                        "description": "成功信息\".",
                        "schema": {
                            "$ref": "#/definitions/controller.Message"
                        }
                    }
                }
            }
        },
        "/qrcode/generate": {
            "post": {
                "description": "根据指定参数，生成二维码",
                "produces": [
                    "image/png"
                ],
                "tags": [
                    "Qrcode"
                ],
                "summary": "生成二维码",
                "parameters": [
                    {
                        "type": "string",
                        "description": "二维码内容",
                        "name": "content",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "400": {
                        "description": "错误信息\".",
                        "schema": {
                            "$ref": "#/definitions/controller.ErrorInfo"
                        }
                    }
                }
            }
        },
        "/view/ExifInfoExportBySaveFile": {
            "post": {
                "description": "导出当前展示照片的exif信息,将其保存在指定路径中",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "view"
                ],
                "summary": "导出指定照片的exif信息",
                "parameters": [
                    {
                        "type": "string",
                        "description": "照片路径",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "导出文件保存的路径",
                        "name": "save",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "导出完成",
                        "schema": {
                            "$ref": "#/definitions/controller.NoError"
                        }
                    },
                    "400": {
                        "description": "错误信息\".",
                        "schema": {
                            "$ref": "#/definitions/controller.ErrorInfo"
                        }
                    }
                }
            }
        },
        "/view/GetPhotosExifInfo": {
            "post": {
                "description": "返回指定照片的exif信息与摘要",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "view"
                ],
                "summary": "获取照片exif信息",
                "parameters": [
                    {
                        "type": "string",
                        "description": "照片路径",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "成功",
                        "schema": {
                            "$ref": "#/definitions/controller.ExifInfoSuccess"
                        }
                    },
                    "400": {
                        "description": "错误信息",
                        "schema": {
                            "$ref": "#/definitions/controller.ErrorInfo"
                        }
                    }
                }
            }
        },
        "/view/showImage": {
            "get": {
                "description": "展示指定照片,直接输出图片信息",
                "produces": [
                    "image/jpeg"
                ],
                "tags": [
                    "view"
                ],
                "summary": "展示照片",
                "parameters": [
                    {
                        "type": "string",
                        "description": "照片路径",
                        "name": "file",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "400": {
                        "description": "错误信息\".",
                        "schema": {
                            "$ref": "#/definitions/controller.ErrorInfo"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "controller.ErrorInfo": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "errmsg": {
                    "type": "string"
                }
            }
        },
        "controller.ExifAndBorderInfo": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "errmsg": {
                    "type": "string"
                },
                "exif": {
                    "$ref": "#/definitions/controller.ExifInfoSuccess"
                },
                "size": {
                    "$ref": "#/definitions/frame.PhotoSize"
                },
                "text": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "controller.ExifInfoSuccess": {
            "type": "object",
            "properties": {
                "ExposureTime": {
                    "type": "string"
                },
                "FNumber": {
                    "type": "string"
                },
                "FileName": {
                    "type": "string"
                },
                "FocalLength": {
                    "type": "string"
                },
                "ISO": {
                    "type": "string"
                },
                "ImageDataSize": {
                    "type": "string"
                },
                "ImageHeight": {
                    "type": "string"
                },
                "ImageSize": {
                    "type": "string"
                },
                "ImageWidth": {
                    "type": "string"
                },
                "LensModel": {
                    "type": "string"
                },
                "Make": {
                    "type": "string"
                },
                "Model": {
                    "type": "string"
                },
                "Orientation": {
                    "type": "string"
                },
                "code": {
                    "type": "integer"
                },
                "errmsg": {
                    "type": "string"
                },
                "file": {
                    "type": "string"
                },
                "参数": {
                    "type": "string"
                },
                "器材": {
                    "type": "string"
                },
                "快门次数": {
                    "type": "string"
                },
                "时间": {
                    "type": "string"
                },
                "模式": {
                    "type": "string"
                },
                "焦距": {
                    "type": "string"
                },
                "色彩": {
                    "type": "string"
                }
            }
        },
        "controller.ImportInfo": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "errmsg": {
                    "type": "string"
                },
                "files": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "controller.Message": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "errmsg": {
                    "type": "string"
                },
                "list": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "controller.NoError": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "errmsg": {
                    "type": "string"
                }
            }
        },
        "controller.TemplatesInfo": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "errmsg": {
                    "type": "string"
                },
                "list": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                }
            }
        },
        "frame.PhotoSize": {
            "type": "object",
            "properties": {
                "borderBottomHeight": {
                    "type": "integer"
                },
                "borderLeftWidth": {
                    "type": "integer"
                },
                "borderRadius": {
                    "type": "integer"
                },
                "borderRightWidth": {
                    "type": "integer"
                },
                "borderTopHeight": {
                    "type": "integer"
                },
                "sourceHeight": {
                    "type": "integer"
                },
                "sourceWidth": {
                    "type": "integer"
                }
            }
        }
    }
}